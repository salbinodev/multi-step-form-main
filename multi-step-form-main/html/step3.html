<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
    <link rel="stylesheet" href="./../css/step3.css">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/yourcode.js" crossorigin="anonymous"></script>
    <title>Multi-step form</title>
</head>

<body>

    <div class="all-content">

        <div class="sidebar">
            <ul class="steps">
                <li>
                    <span class="circle">1</span>
                    <a class="stepName" href="./../html/step1.html"><span class="step-title">STEP 1</span><br>YOUR INFO</a>
                </li>
                <li>
                    <span class="circle">2</span>
                    <a class="stepName" href="./../html/step2.html"><span class="step-title">STEP 2</span><br>SELECT PLAN</a>
                </li>
                <li class="active">
                    <span class="circle">3</span><a class="stepName" href="./../html/step3.html"><span class="step-title">STEP 3</span><br>ADD-ON</a>
                </li>
                <li><span class="circle">4</span><a class="stepName" href="./../html/step5.html"><span class="step-title">STEP 4</span><br>SUMMARY</a>
                </li>
            </ul>
        </div>

        <div class="main-content">
            <div class="header">
                <h2>Pick add-ons</h2>
                <p>Add-ons help enhance your gaming experience</p>
            </div>

            <ul class="card-list">
                <li class="card">
                    <div class="card-content">
                        <label class="benefit-checkbox">
                            <input type="checkbox">
                        </label>
                        <div class="benefits-info">
                            <h3>Online Service</h3>
                            <p>Access to multiplayer games</p>
                        </div>
                        <p class="price">$9/mo</p>
                    </div>
                </li>
            
                <li class="card">
                    <div class="card-content">
                        <label class="benefit-checkbox">
                            <input type="checkbox">
                        </label>
                        <div class="benefits-info">
                            <h3>Larger Storage</h3>
                            <p>Extra 1TB of cloud save</p>
                        </div>
                        <p class="price">$12/mo</p>
                    </div>
                </li>
            
                <li class="card">
                    <div class="card-content">
                        <label class="benefit-checkbox">
                            <input type="checkbox">
                        </label>
                        <div class="benefits-info">
                            <h3>Customizable Profile</h3>
                            <p>Custom theme on your profile</p>
                        </div>
                        <p class="price">$15/mo</p>
                    </div>
                </li>
            </ul>

            <div class="buttons">
                <a href="./step2.html" class="go-back">Go Back</a>
                <a href="#" class="btn" id="nextStep">Next Step</a>
            </div>
        </div>
    </div>
    
    <script>
        // Select all checkboxes and the "Next Step" button
        const checkboxes = document.querySelectorAll('.card input[type="checkbox"]');
        const nextStepBtn = document.getElementById('nextStep');
    
        // Function to store selected add-ons in localStorage
        function storeSelections() {
            let selectedAddOns = [];
    
            checkboxes.forEach(checkbox => {
                const card = checkbox.closest('.card');
                const title = card.querySelector('.benefits-info h3').textContent;
                const price = card.querySelector('.price').textContent;
    
                if (checkbox.checked) {
                    selectedAddOns.push({ title, price });
                }
            });
    
            // Store the selected add-ons in localStorage
            localStorage.setItem('selectedAddOns', JSON.stringify(selectedAddOns));
        }
    
        // Function to check if at least one checkbox is selected
        function checkSelection() {
            return Array.from(checkboxes).some(checkbox => checkbox.checked);
        }
    
        // Event listener for the 'Next Step' button
        nextStepBtn.addEventListener('click', function (event) {
            if (checkSelection()) {
                storeSelections(); // Store the selections in localStorage
                window.location.href = './step4.html'; // Redirect to step 4
            } else {
                alert('Please select at least one add-on to proceed.');
                event.preventDefault(); // Prevent default action if no checkbox is selected
            }
        });
    </script>
    

</body>

</html>
